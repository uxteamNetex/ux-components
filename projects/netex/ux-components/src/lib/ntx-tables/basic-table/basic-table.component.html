<div class="table-container" [ngClass]="{'flat': this.style === 'flat'}">

  <div class="table-container__table">
    <!-- Table -->
    <table 
      mat-table 
      matSort
      matSortActive="name" 
      matSortDisableClear 
      [dataSource]="dataSource" 
      class="mat-basic-table">

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>First name</th>
        <td mat-cell *matCellDef="let element">
          <div class="mat-basic-table__row-name">
              <div class="mat-basic-table__row-image">
                <img mat-card-image class="utils--vertical-align" src="{{element.avatar}}" alt="Element image">
              </div>
              <span class="mat-basic-table__row-text" matTooltip="{{element.name}}">{{element.name}}</span>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="surname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Last name</th>
        <td mat-cell *matCellDef="let element">
          <span class="mat-basic-table__row-text">{{element.surname}}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>User name</th>
        <td mat-cell *matCellDef="let element">
          <span class="mat-basic-table__row-text">{{element.username}}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Last modification </th>
        <td mat-cell *matCellDef="let element">
          <span class="mat-basic-table__row-text">{{element.date}}</span></td>
      </ng-container>

      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>State</th>
        <td mat-cell *matCellDef="let element">
          <ntx-label text="{{element.state_label}}" color="{{element.state_color}}"></ntx-label>
        </td>
      </ng-container>

      <ng-container matColumnDef="options">
        <th class="utils--w-48" mat-header-cell *matHeaderCellDef></th>
        <td class="utils--w-48" mat-cell *matCellDef="let element">
          <ntx-menu-options></ntx-menu-options>
        </td>
      </ng-container>

      <tr class="mat-basic-table__header" mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr class="mat-basic-table__row" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>
  </div>

  <!-- Paginator -->
  <mat-paginator [ngStyle]="{display: style === 'flat' ? 'none' : 'block'}" class="mat-basic-table__paginator" [pageSizeOptions]="[10, 25, 50]" showFirstLastButtons></mat-paginator>

</div>
